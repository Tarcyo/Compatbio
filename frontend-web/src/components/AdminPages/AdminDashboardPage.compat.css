/* =========================
   CompatBio Admin Dashboard (ISOLADO)
   ✅ Nada de :root global
   ✅ Tudo começa em .cbad-root
========================= */

.cbad-root {
  /* tokens (SÓ aqui dentro) */
  --cbad-accent: rgba(160, 234, 82, 1);

  --cbad-bg-0: #ffffff;
  --cbad-bg-1: #f7f8fb;
  --cbad-bg-2: #f2f4f7;

  --cbad-panel: rgba(255, 255, 255, 0.72);
  --cbad-panel-2: rgba(255, 255, 255, 0.62);

  --cbad-border: rgba(15, 23, 42, 0.12);
  --cbad-border-2: rgba(15, 23, 42, 0.08);

  --cbad-text: rgba(31, 41, 55, 0.92);
  --cbad-muted: rgba(75, 85, 99, 0.86);
  --cbad-muted2: rgba(107, 114, 128, 0.8);

  --cbad-shadow-lg: 0 30px 90px rgba(15, 23, 42, 0.14);
  --cbad-shadow: 0 16px 44px rgba(15, 23, 42, 0.12);
  --cbad-shadow-soft: 0 12px 28px rgba(15, 23, 42, 0.1);

  --cbad-glass-border: rgba(255, 255, 255, 0.36);

  --cbad-r-xl: 28px;
  --cbad-pill: 9999px;

  width: 100%;
  min-width: 0;
  color: var(--cbad-text);
}

/* nitidez e box sizing (só aqui) */
.cbad-root,
.cbad-root * {
  box-sizing: border-box !important;
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;
  text-rendering: geometricPrecision !important;
}

/* =========================
   CARD PRINCIPAL (GLASS LIGHT)
========================= */
.cbad-card {
  padding: 18px !important;

  background:
    radial-gradient(1000px 420px at 12% 108%, rgba(160,234,82,0.18), rgba(255,255,255,0) 60%),
    radial-gradient(900px 420px at 88% 108%, rgba(160,234,82,0.10), rgba(255,255,255,0) 62%),
    linear-gradient(180deg, rgba(255,255,255,0.72) 0%, rgba(247,248,251,0.66) 100%) !important;

  border: 1px solid var(--cbad-glass-border) !important;
  border-radius: var(--cbad-r-xl) !important;

  box-shadow: var(--cbad-shadow-lg), inset 0 1px 0 rgba(255,255,255,0.55) !important;

  position: relative !important;
  overflow: hidden !important;

  -webkit-backdrop-filter: blur(14px) saturate(1.15) !important;
  backdrop-filter: blur(14px) saturate(1.15) !important;
}

.cbad-card::before {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
  border-radius: inherit !important;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.55),
    inset 0 0 0 1px rgba(15,23,42,0.04) !important;
}

.cbad-card::after {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
  border-radius: inherit !important;
  background: linear-gradient(
    120deg,
    rgba(255,255,255,0.12) 0%,
    rgba(255,255,255,0.00) 46%,
    rgba(255,255,255,0.08) 100%
  ) !important;
  opacity: 0.55 !important;
}

.cbad-card > * {
  position: relative !important;
  z-index: 1 !important;
}

/* =========================
   SCROLL DA TELA (ajustado)
   - funciona bem dentro de layouts com sidebar/topbar
========================= */
.cbad-scrollPage {
  /* melhor que 100vh puro (mobile + topbars) */
  max-height: calc(100dvh - 140px) !important;
  overflow: auto !important;
  padding-right: 8px !important;
}

/* Scrollbar (light) */
.cbad-scrollPage::-webkit-scrollbar { width: 12px !important; }
.cbad-scrollPage::-webkit-scrollbar-track { background: transparent !important; border-radius: 999px !important; }
.cbad-scrollPage::-webkit-scrollbar-thumb {
  background: rgba(15,23,42,0.16) !important;
  border-radius: 999px !important;
  border: 3px solid transparent !important;
  background-clip: padding-box !important;
}
.cbad-scrollPage::-webkit-scrollbar-thumb:hover { background: rgba(15,23,42,0.24) !important; }

/* =========================
   HEADER
========================= */
.cbad-header {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  gap: 14px !important;
  margin-bottom: 14px !important;
}

.cbad-headerLeft { min-width: 0 !important; }

.cbad-titleRow {
  display: flex !important;
  align-items: center !important;
  gap: 10px !important;
}

.cbad-title {
  margin: 0 !important;
  font-size: 28px !important;
  font-weight: 1000 !important;
  letter-spacing: -0.02em !important;
  color: var(--cbad-text) !important;
  text-shadow: 0 18px 44px rgba(15,23,42,0.10) !important;
}

.cbad-badge {
  display: inline-flex !important;
  align-items: center !important;
  height: 30px !important;
  padding: 0 12px !important;
  border-radius: var(--cbad-pill) !important;

  background: linear-gradient(180deg, #ffffff 0%, #eef2f7 100%) !important;
  border: 1px solid var(--cbad-border-2) !important;

  color: rgba(55,65,81,0.86) !important;
  font-size: 12px !important;
  font-weight: 900 !important;
  letter-spacing: 0.08em !important;
  text-transform: uppercase !important;

  box-shadow: inset 0 1px 0 rgba(255,255,255,0.85) !important;
}

.cbad-subtitle {
  margin: 10px 0 0 !important;
  color: var(--cbad-muted) !important;
  line-height: 1.35 !important;
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 6px !important;
  align-items: center !important;
  font-weight: 850 !important;
}

.cbad-range { font-weight: 950 !important; color: rgba(31,41,55,0.90) !important; }
.cbad-dot { opacity: 0.55 !important; }

/* =========================
   KPIs
========================= */
.cbad-kpis {
  display: grid !important;
  grid-template-columns: repeat(3, minmax(180px, 1fr)) !important;
  gap: 12px !important;
  align-items: stretch !important;
}

.cbad-kpi {
  background: linear-gradient(180deg, rgba(255,255,255,0.92) 0%, rgba(238,242,247,0.92) 100%) !important;
  border: 1px solid var(--cbad-border) !important;
  border-radius: 24px !important;
  padding: 14px !important;
  min-width: 0 !important;

  box-shadow: var(--cbad-shadow-soft), inset 0 1px 0 rgba(255,255,255,0.90) !important;
  transition: transform 160ms ease, filter 160ms ease, border-color 160ms ease !important;

  -webkit-backdrop-filter: blur(10px) saturate(1.1) !important;
  backdrop-filter: blur(10px) saturate(1.1) !important;
}

.cbad-kpi:hover {
  transform: translateY(-1px) !important;
  filter: brightness(1.02) !important;
  border-color: rgba(15,23,42,0.18) !important;
}

.cbad-kpiTop { display: flex !important; align-items: center !important; gap: 10px !important; }

.cbad-kpiIcon {
  width: 40px !important;
  height: 40px !important;
  border-radius: 9999px !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  background: rgba(160,234,82,0.16) !important;
  border: 1px solid rgba(94,133,66,0.22) !important;

  box-shadow: 0 14px 34px rgba(15,23,42,0.10), inset 0 1px 0 rgba(255,255,255,0.65) !important;
}

.cbad-kpiLabel {
  font-size: 12px !important;
  color: rgba(107,114,128,0.88) !important;
  font-weight: 850 !important;
  letter-spacing: 0.10em !important;
  text-transform: uppercase !important;
}

.cbad-kpiValue {
  margin-top: 10px !important;
  font-size: 22px !important;
  font-weight: 1000 !important;
  color: rgba(31,41,55,0.92) !important;
  letter-spacing: -0.02em !important;
}

.cbad-kpi--blue { border-color: rgba(59, 130, 246, 0.22) !important; }
.cbad-kpi--green { border-color: rgba(94, 133, 66, 0.24) !important; }

@media (max-width: 1100px) {
  .cbad-header { flex-direction: column !important; }
  .cbad-kpis { grid-template-columns: 1fr !important; width: 100% !important; }
  .cbad-scrollPage { max-height: none !important; }
}

/* =========================
   ESTADOS
========================= */
.cbad-state {
  padding: 14px 16px !important;
  border-radius: 22px !important;
  background: linear-gradient(180deg, rgba(255,255,255,0.92) 0%, rgba(238,242,247,0.92) 100%) !important;
  border: 1px solid var(--cbad-border) !important;

  color: rgba(55,65,81,0.90) !important;
  font-weight: 900 !important;

  box-shadow: var(--cbad-shadow-soft), inset 0 1px 0 rgba(255,255,255,0.90) !important;
}

.cbad-state--error {
  border-color: rgba(239, 68, 68, 0.24) !important;
  background: linear-gradient(180deg, rgba(239,68,68,0.10), rgba(239,68,68,0.06)) !important;
  color: rgba(127,29,29,0.96) !important;
}

/* =========================
   PANELS
========================= */
.cbad-panel {
  background: linear-gradient(180deg, rgba(255,255,255,0.74) 0%, rgba(247,248,251,0.66) 100%) !important;
  border: 1px solid var(--cbad-glass-border) !important;
  border-radius: var(--cbad-r-xl) !important;

  overflow: hidden !important;
  margin-top: 12px !important;

  box-shadow: var(--cbad-shadow), inset 0 1px 0 rgba(255,255,255,0.55) !important;

  -webkit-backdrop-filter: blur(14px) saturate(1.12) !important;
  backdrop-filter: blur(14px) saturate(1.12) !important;
}

.cbad-panelHeader {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: space-between !important;
  gap: 12px !important;

  padding: 16px 16px 14px !important;
  border-bottom: 1px solid rgba(15,23,42,0.08) !important;
}

.cbad-panelTitle {
  font-size: 14px !important;
  font-weight: 1000 !important;
  letter-spacing: 0.02em !important;
  color: var(--cbad-text) !important;
}

.cbad-panelSub {
  margin-top: 6px !important;
  font-size: 12px !important;
  color: var(--cbad-muted2) !important;
  line-height: 1.35 !important;
  font-weight: 850 !important;
}

.cbad-tag {
  display: inline-flex !important;
  align-items: center !important;
  height: 30px !important;
  padding: 0 12px !important;
  border-radius: var(--cbad-pill) !important;

  border: 1px solid var(--cbad-border-2) !important;
  background: linear-gradient(180deg, #ffffff 0%, #eef2f7 100%) !important;

  color: rgba(55,65,81,0.86) !important;
  font-size: 12px !important;
  font-weight: 950 !important;
  letter-spacing: 0.08em !important;
  text-transform: uppercase !important;

  box-shadow: inset 0 1px 0 rgba(255,255,255,0.85) !important;
}

.cbad-panelBody { padding: 14px !important; }

/* =========================
   CHARTS
========================= */
.cbad-chartsGrid {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 12px !important;
}

.cbad-chartBox {
  background: linear-gradient(180deg, rgba(255,255,255,0.92) 0%, rgba(238,242,247,0.92) 100%) !important;
  border: 1px solid var(--cbad-border) !important;
  border-radius: 24px !important;

  padding: 14px 14px 16px !important;
  min-width: 0 !important;

  box-shadow: 0 18px 44px rgba(15,23,42,0.12), inset 0 1px 0 rgba(255,255,255,0.90) !important;
}

.cbad-chartHead {
  display: flex !important;
  flex-direction: column !important;
  gap: 6px !important;
  margin-bottom: 10px !important;
}

.cbad-chartTitle {
  font-weight: 1000 !important;
  font-size: 13px !important;
  letter-spacing: 0.06em !important;
  text-transform: uppercase !important;
  color: rgba(31,41,55,0.92) !important;
}

.cbad-chartHint {
  font-size: 12px !important;
  color: rgba(107,114,128,0.82) !important;
  line-height: 1.35 !important;
  font-weight: 850 !important;
}

.cbad-chartCanvas { width: 100% !important; }

/* =========================
   RANKINGS GRID
========================= */
.cbad-rankGrid {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 12px !important;
}

@media (max-width: 980px) {
  .cbad-rankGrid { grid-template-columns: 1fr !important; }
}

/* =========================
   SCROLLBARS X / Y
========================= */
.cbad-scrollX { overflow-x: auto !important; padding-bottom: 10px !important; }
.cbad-scrollY { overflow-y: auto !important; }

.cbad-scrollX::-webkit-scrollbar { height: 12px !important; }
.cbad-scrollX::-webkit-scrollbar-track { background: transparent !important; }
.cbad-scrollX::-webkit-scrollbar-thumb {
  background: rgba(15,23,42,0.16) !important;
  border-radius: 999px !important;
  border: 3px solid transparent !important;
  background-clip: padding-box !important;
}
.cbad-scrollX::-webkit-scrollbar-thumb:hover { background: rgba(15,23,42,0.24) !important; }

.cbad-scrollY::-webkit-scrollbar { width: 12px !important; }
.cbad-scrollY::-webkit-scrollbar-track { background: transparent !important; }
.cbad-scrollY::-webkit-scrollbar-thumb {
  background: rgba(15,23,42,0.16) !important;
  border-radius: 999px !important;
  border: 3px solid transparent !important;
  background-clip: padding-box !important;
}
.cbad-scrollY::-webkit-scrollbar-thumb:hover { background: rgba(15,23,42,0.24) !important; }

/* =========================
   TOOLTIP
========================= */
.cbad-tooltip {
  background: rgba(255,255,255,0.92) !important;
  border: 1px solid rgba(15,23,42,0.10) !important;
  border-radius: 22px !important;

  padding: 12px !important;
  color: rgba(31,41,55,0.92) !important;

  box-shadow: 0 22px 44px rgba(15,23,42,0.16), inset 0 1px 0 rgba(255,255,255,0.70) !important;
  min-width: 190px !important;

  -webkit-backdrop-filter: blur(12px) saturate(1.12) !important;
  backdrop-filter: blur(12px) saturate(1.12) !important;
}

.cbad-tooltipTitle {
  font-weight: 1000 !important;
  margin-bottom: 8px !important;
  color: rgba(31,41,55,0.92) !important;
}

.cbad-tooltipList {
  display: flex !important;
  flex-direction: column !important;
  gap: 6px !important;
}

.cbad-tooltipRow {
  display: flex !important;
  justify-content: space-between !important;
  gap: 10px !important;
  font-size: 12px !important;
  font-weight: 850 !important;
}

.cbad-tooltipName { opacity: 0.70 !important; }
.cbad-tooltipValue { font-weight: 950 !important; }

/* =========================
   ACESSIBILIDADE
========================= */
.cbad-root button:focus-visible,
.cbad-root [tabindex]:focus-visible {
  outline: 2px solid rgba(94, 133, 66, 0.45) !important;
  outline-offset: 2px !important;
}

@media (prefers-reduced-motion: reduce) {
  .cbad-kpi, .cbad-panel, .cbad-tag, .cbad-badge {
    transition: none !important;
  }
}

/* =========================
   (Opcional) Recharts ajustes leves (só dentro da página)
========================= */
.cbad-root .recharts-cartesian-grid line,
.cbad-root .recharts-cartesian-grid path {
  stroke: rgba(15,23,42,0.10) !important;
}

.cbad-root .recharts-cartesian-axis line,
.cbad-root .recharts-cartesian-axis path {
  stroke: rgba(15,23,42,0.14) !important;
}
